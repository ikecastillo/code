var PISDMapper={addMapping:function(){var g=AJS.$("#productITIM option:selected").text();var f=AJS.$("#subproductITIM option:selected").text();var c=AJS.$("#serviceDeskId").val().trim();var d=AJS.$("#requestTypeId").val().trim();var a=AJS.$("#custfieldWithId").val().trim();if(this.validateMapping(g,f)){var e="/rest/pisd-ticket-creator-api/1.0/config/addConfig";var b=JSON.stringify({serviceDeskID:c,serviceDeskName:g,requestTypeID:d,requestTypeName:f,custFieldsWithIDs:a});AJS.$.ajax({url:e,type:"POST",data:b,dataType:"json",contentType:"application/json",success:function(h){AJS.$("#pisdtktmappingstable tbody tr").remove();AJS.log(" New mapping created for Service Desk "+g+"and Request Type "+f);PISDTableRowAppender.showTableRows(h)}});JIRA.Messages.showSuccessMsg("New Service Desk Config Added!")}},removeMapping:function(b,g,c,f,e){var d="/rest/pisd-ticket-creator-api/1.0/config/deleteConfig";var a=JSON.stringify({serviceDeskID:b,serviceDeskName:g,requestTypeID:c,requestTypeName:f,custFieldsWithIDs:e});AJS.$.ajax({url:d,type:"POST",data:a,dataType:"json",contentType:"application/json",success:function(h){AJS.$("#pisdtktmappingstable tbody tr").remove();AJS.log("Mapping removed for Service Desk "+g+"and Request Type "+f);PISDTableRowAppender.showTableRows(h)}});JIRA.Messages.showSuccessMsg("Service Desk Config Deleted!")},getAllMappings:function(){AJS.$("#pisdtktmappingstable tbody tr").remove();var a="/rest/pisd-ticket-creator-api/1.0/config/getAllConfigs";AJS.$.ajax({url:a,dataType:"json",type:"POST",success:function(b){AJS.log("Parsing the response and converting them to table rows");PISDTableRowAppender.showTableRows(b)}})},validateMapping:function(b,a){if(PISDTableRowAppender.isTheProdAndSubProdAlreadyMapped(b,a)){JIRA.Messages.showErrorMsg("There is already is configuration for Service Desk "+b+" and request type "+a);return false}else{return true}}};