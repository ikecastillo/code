AJS.toInit(function(){CSARAssigneeMapper.getAllMappings();c("CSAR","csarsolutiongroupoutside");AJS.$("#csarsolutiongroupoutside").change(function(){var f=AJS.$("#csarsolutiongroupoutside").val();if(f==="All"){CSARAssigneeMapper.getAllMappings()}else{AJS.$("#csarmappingstable tbody tr").remove();var d=JSON.stringify({solutionGroup:f});var e="/rest/servicedeskldapintegration/1.0/config/getAllConfigsBasedOnSolGrp";AJS.$.ajax({url:e,dataType:"json",type:"POST",data:d,contentType:"application/json",success:function(g){AJS.log("Parsing the response and converting them to table rows");CSAROwnerImplementorTableRowAppender.showTableRows(g)}})}});AJS.$("#csar-mapping-button").click(function(){AJS.log("Mapping dialog pops up");AJS.dialog2("#csar-mapping-dialog").show();AJS.$(".error").html("");AJS.$("#csarsolutiongroup > option:eq(0)").prop("selected",true);AJS.$("#csarrequesttype > option:eq(0)").prop("selected",true);AJS.$("#csarowners").val("");AJS.$("#csarimplementors").val("");c("CSAR","csarsolutiongroup");b("CSAR")});AJS.$("#csar-mapping-dialog-add-button").click(function(){AJS.$(".error").html("");if(a()){CSARAssigneeMapper.addMapping();AJS.dialog2("#csar-mapping-dialog").hide()}});AJS.$("#csar-mapping-dialog-cancel-link").click(function(d){d.preventDefault();AJS.dialog2("#csar-mapping-dialog").hide();AJS.log("Mapping dialog hides")});AJS.$(".deletecsarMapping").live("click",function(){var d=[];AJS.$(this).closest("tr").find("td").each(function(){d.push(AJS.$(this).text())});AJS.log("Delete Mapping dialog pops up");AJS.dialog2("#csardelete-mapping-dialog").show();AJS.$("#csarsolngrpconf").text(d[0]);AJS.$("#csarrequesttypeconf").text(d[1]);AJS.$("#csarownersconf").text(d[2]);AJS.$("#csarimplementorsconf").text(d[3])});AJS.$("#ownerimplementor-dialog-delete-cancel-link").click(function(d){d.preventDefault();AJS.dialog2("#csardelete-mapping-dialog").hide();AJS.log("Delete Mapping dialog hides")});AJS.$("#ownerimplementor-dialog-delete-button").click(function(){CSARAssigneeMapper.removeMapping(AJS.$("#csarsolngrpconf").text(),AJS.$("#csarrequesttypeconf").text(),AJS.$("#csarownersconf").text(),AJS.$("#csarimplementorsconf").text());AJS.dialog2("#csardelete-mapping-dialog").hide()});function c(d,e){AJS.$.ajax({url:AJS.params.baseURL+"/rest/servicedeskldapintegration/1.0/getSelectCascadeSolGrp",type:"GET",contentType:"application/json",data:{projectkey:d},async:false,success:function(l){var g="#"+e;var m=AJS.$(g);AJS.$("option",m).not(":eq(0)").remove();var j=AJS.$("<option/>").attr("value","Default").text("Default");m.append(j);for(var h=0;h<l.length;h++){var k=l[h].value;var f=AJS.$("<option/>").attr("value",k).text(k);m.append(f)}}})}function b(d){AJS.$.ajax({url:AJS.params.baseURL+"/rest/servicedeskldapintegration/1.0/getIssueTypes",type:"GET",contentType:"application/json",data:{projectkey:d},async:false,success:function(j){var g=AJS.$("#csarrequesttype");AJS.$("option",g).not(":eq(0)").remove();for(var e=0;e<j.length;e++){var h=j[e].label;var f=AJS.$("<option/>").attr("value",h).text(h);g.append(f)}}})}function a(){var g=true;var h=AJS.$("#csarsolutiongroup option:selected").text();var f=AJS.$("#csarrequesttype option:selected").text();var e=AJS.$("#csarowners").val().trim();var d=AJS.$("#csarimplementors").val().trim();if(h=="Select"){AJS.log("Solution group is Select, giving error message");AJS.$("#errorcsarsolutiongroup").html("Please select a Solution Group");g=false}if(f=="Select"){AJS.log("Request Type is Select, giving error message");AJS.$("#errorcsarrequesttype").html("Please select a Request Type");g=false}if(!e){AJS.log("No owner selected , giving error message");AJS.$("#errorcsarowners").html("Please select an owner");g=false}if(!d){AJS.log("No implementor selected , giving error message");AJS.$("#errorcsarimplementors").html("Please select an implementor");g=false}return g}});