var CSARAssigneeMapper={addMapping:function(){var f=AJS.$("#csarsolutiongroup option:selected").text();var d=AJS.$("#csarrequesttype option:selected").text();var b=AJS.$("#csarowners").val().trim();var a=AJS.$("#csarimplementors").val().trim();if(this.validateMapping(f,d)){var e="/rest/servicedeskldapintegration/1.0/config/addConfig";var c=JSON.stringify({solutionGroup:f,issueType:d,owner:b,implementor:a});AJS.$.ajax({url:e,type:"POST",data:c,dataType:"json",contentType:"application/json",success:function(g){AJS.$("#csarmappingstable tbody tr").remove();AJS.log(" New mapping created for CSAR for "+f+"and Request Type "+d);CSAROwnerImplementorTableRowAppender.showTableRows(g)}});JIRA.Messages.showSuccessMsg("New auto assignee config added!");AJS.$("#csarsolutiongroupoutside > option:eq(0)").prop("selected",true)}},removeMapping:function(f,d,b,a){var e="/rest/servicedeskldapintegration/1.0/config/deleteConfig";var c=JSON.stringify({solutionGroup:f,issueType:d,owner:b,implementor:a});AJS.$.ajax({url:e,type:"POST",data:c,dataType:"json",contentType:"application/json",success:function(g){AJS.$("#csarmappingstable tbody tr").remove();AJS.log("Mapping removed for Service Desk "+f+"and Request Type "+d);CSAROwnerImplementorTableRowAppender.showTableRows(g)}});JIRA.Messages.showSuccessMsg("Auto Assignee Config Deleted!");AJS.$("#csarsolutiongroupoutside > option:eq(0)").prop("selected",true)},getAllMappings:function(){AJS.$("#csarmappingstable tbody tr").remove();var a="/rest/servicedeskldapintegration/1.0/config/getAllConfigs";AJS.$.ajax({url:a,dataType:"json",type:"POST",success:function(b){AJS.log("Parsing the response and converting them to table rows");CSAROwnerImplementorTableRowAppender.showTableRows(b)}})},validateMapping:function(b,a){if(CSAROwnerImplementorTableRowAppender.isSolGroupAndReqTypeMapped(b,a)){JIRA.Messages.showErrorMsg("There is already a configuration for Solution Group "+b+" and request type "+a);return false}else{return true}}};