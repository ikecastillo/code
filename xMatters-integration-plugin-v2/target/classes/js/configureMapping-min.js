var Mapper={addMapping:function(){var c=AJS.$("#jiraField option:selected").text();var d=AJS.$("#xMattersField").val().trim();if(this.validateMapping(d)){var b="/rest/xmatter-integration/1.0/fieldMapper/addMapping";var a=JSON.stringify({jiraFieldName:c,xMattersFieldName:d});AJS.$.ajax({url:b,type:"POST",data:a,dataType:"json",contentType:"application/json",success:function(e){AJS.$("#mappingstable tbody tr").remove();AJS.log(" New mapping created is "+c+"->"+d);TableRowAppender.showTableRows(e)}});JIRA.Messages.showSuccessMsg("XMatters Mapping Added!")}},removeMapping:function(c,d){var b="/rest/xmatter-integration/1.0/fieldMapper/deleteMapping";var a=JSON.stringify({jiraFieldName:c,xMattersFieldName:d});AJS.$.ajax({url:b,type:"POST",data:a,dataType:"json",contentType:"application/json",success:function(e){AJS.$("#mappingstable tbody tr").remove();AJS.log(" Mapping deleted is "+c+"->"+d);TableRowAppender.showTableRows(e)}});JIRA.Messages.showSuccessMsg("XMatters Mapping Deleted!")},getAllMappings:function(){AJS.$("#mappingstable tbody tr").remove();var a="/rest/xmatter-integration/1.0/fieldMapper/getAllMappings";AJS.$.ajax({url:a,dataType:"json",type:"POST",success:function(b){AJS.log("Parsing the response and converting them to table rows");TableRowAppender.showTableRows(b)}})},validateMapping:function(a){if(TableRowAppender.isXMattersFieldAlreadyMapped(a)){JIRA.Messages.showErrorMsg("The xMatters Field "+a+" is already mapped, please choose a different field");return false}else{return true}}};