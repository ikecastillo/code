var PISDtoRelMapper={addMapping:function(){var d=AJS.$("#serviceDeskProject option:selected").text();var a=AJS.$("#serviceDeskProject option:selected").val();var f=AJS.$("#otherJIRAInstProject option:selected").text();var e=AJS.$("#otherJIRAInstProject option:selected").val();var g=AJS.$("#otherJIRAInstProjectIssueType option:selected").text();if(f==="Select"&&e==="Select"&&g==="Select"){f="";e="";g=""}if(this.validateMapping(d)){var c="/rest/createjiraticket/1.0/projmapconfig/addProjectMapping";var b=JSON.stringify({sdProjName:d,sdProjKey:a,jiraProjName:f,jiraProjKey:e,jiraProjIssueType:g});AJS.$.ajax({url:c,type:"POST",data:b,dataType:"json",contentType:"application/json",success:function(h){AJS.$("#pisdtoreltktmappingstable tbody tr").remove();AJS.log(" New mapping created for Service Desk Project"+a+"and JIRA Project "+e);PISDToRelTableRowAppender.showTableRows(h)}});JIRA.Messages.showSuccessMsg("New Project Mapping Added for Service Desk Project "+d)}},removeMapping:function(g,c,d,e,f){var b="/rest/createjiraticket/1.0/projmapconfig/deleteProjectMapping";var a=JSON.stringify({sdProjName:g,sdProjKey:c,jiraProjName:d,jiraProjKey:e,jiraProjIssueType:f});AJS.$.ajax({url:b,type:"POST",data:a,dataType:"json",contentType:"application/json",success:function(h){AJS.$("#pisdtoreltktmappingstable tbody tr").remove();AJS.log("Project Mapping removed for Service Desk Project "+g);PISDToRelTableRowAppender.showTableRows(h)}});JIRA.Messages.showSuccessMsg("Project Mapping removed for Service Desk Project "+g)},getAllMappings:function(){AJS.$("#pisdtoreltktmappingstable tbody tr").remove();var a="/rest/createjiraticket/1.0/projmapconfig/getAllProjectMappings";AJS.$.ajax({url:a,dataType:"json",success:function(b){AJS.log("Parsing the response and converting them to table rows");PISDToRelTableRowAppender.showTableRows(b)}})},validateMapping:function(a){if(PISDToRelTableRowAppender.isTheSdProjectAlreadyMapped(a)){JIRA.Messages.showErrorMsg("The Service Project "+a+" is already configured, please choose another service desk project ");return false}else{return true}}};