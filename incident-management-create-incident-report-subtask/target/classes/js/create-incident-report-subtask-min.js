AJS.toInit(function(){Mapper.getAllFieldMappings();AJS.$("#dialog-show-button").click(function(){AJS.dialog2("#demo-dialog").show()});AJS.$("#dialog-close-button").click(function(b){b.preventDefault();AJS.dialog2("#demo-dialog").hide()});AJS.$("#mapping-dialog-save-button").click(function(){if(a()){Mapper.addMapping();AJS.dialog2("#demo-dialog").hide()}});AJS.$(".deleteMapping").live("click",function(){var c=AJS.$(this).closest("tr");var b=[];AJS.$(this).closest("tr").find("td").each(function(){b.push(AJS.$(this).text())});AJS.log("Field to delete for JIRA "+b[0]);AJS.log("Field to delete for mapping "+b[1]);AJS.log("Delete Mapping dialog pops up");AJS.dialog2("#delete-dialog").show();AJS.$("#jirafieldconf").text(b[0]);AJS.$("#mappingfieldconf").text(b[1]);AJS.$("#fromissueconf").text(b[2]);AJS.$("#toissueconf").text(b[3])});AJS.$("#mapping-dialog-delete-cancel-link").click(function(b){b.preventDefault();AJS.dialog2("#delete-dialog").hide()});AJS.$("#mapping-dialog-delete-button").click(function(){Mapper.removeMapping(AJS.$("#jirafieldconf").text(),AJS.$("#mappingfieldconf").text(),AJS.$("#fromissueconf").text(),AJS.$("#toissueconf").text());AJS.dialog2("#delete-dialog").hide()});function a(){var e,c;AJS.$(".error").html("");var d=AJS.$("#selectedDefaultIssueFields").val();var b=AJS.$("#mappingfield").val();if(!d){c=AJS.I18n.getText("genxmatters.admin.mappingform.dialog.errorjiraField")}if(!b){e=AJS.I18n.getText("genxmatters.admin.mappingform.dialog.errormappingField")}if(c){AJS.$("#selectedDefaultIssueFields").focus().siblings(".error").html(c);return false}if(e){AJS.$("#mappingfield").focus().siblings(".error").html(e);return false}return true}AJS.$("#selectedProjects").change(function(b){console.log("selectedProjects "+AJS.$("#selectedProjects").find("option:selected").val())})});