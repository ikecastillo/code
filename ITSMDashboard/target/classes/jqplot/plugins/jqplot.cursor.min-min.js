(function(w){w.jqplot.Cursor=function(a){this.style="crosshair";this.previousCursor="auto";this.show=w.jqplot.config.enablePlugins;this.showTooltip=true;this.followMouse=false;this.tooltipLocation="se";this.tooltipOffset=6;this.showTooltipGridPosition=false;this.showTooltipUnitPosition=true;this.showTooltipDataPosition=false;this.tooltipFormatString="%.4P, %.4P";this.useAxesFormatters=true;this.tooltipAxisGroups=[];this.zoom=false;this.zoomProxy=false;this.zoomTarget=false;this.looseZoom=true;this.clickReset=false;this.dblClickReset=true;this.showVerticalLine=false;this.showHorizontalLine=false;this.constrainZoomTo="none";this.shapeRenderer=new w.jqplot.ShapeRenderer();this._zoom={start:[],end:[],started:false,zooming:false,isZoomed:false,axes:{start:{},end:{}},gridpos:{},datapos:{}};this._tooltipElem;this.zoomCanvas;this.cursorCanvas;this.intersectionThreshold=2;this.showCursorLegend=false;this.cursorLegendFormatString=w.jqplot.Cursor.cursorLegendFormatString;this._oldHandlers={onselectstart:null,ondrag:null,onmousedown:null};this.constrainOutsideZoom=true;this.showTooltipOutsideZoom=false;this.onGrid=false;w.extend(true,this,a)};w.jqplot.Cursor.cursorLegendFormatString="%s x:%s, y:%s";w.jqplot.Cursor.init=function(b,c,d){var e=d||{};this.plugins.cursor=new w.jqplot.Cursor(e.cursor);var a=this.plugins.cursor;if(a.show){w.jqplot.eventListenerHooks.push(["jqplotMouseEnter",E]);w.jqplot.eventListenerHooks.push(["jqplotMouseLeave",A]);w.jqplot.eventListenerHooks.push(["jqplotMouseMove",x]);if(a.showCursorLegend){d.legend=d.legend||{};d.legend.renderer=w.jqplot.CursorLegendRenderer;d.legend.formatString=this.plugins.cursor.cursorLegendFormatString;d.legend.show=true}if(a.zoom){w.jqplot.eventListenerHooks.push(["jqplotMouseDown",F]);if(a.clickReset){w.jqplot.eventListenerHooks.push(["jqplotClick",v])}if(a.dblClickReset){w.jqplot.eventListenerHooks.push(["jqplotDblClick",D])}}this.resetZoom=function(){var f=this.axes;if(!a.zoomProxy){for(var g in f){f[g].reset();f[g]._ticks=[];if(a._zoom.axes[g]!==undefined){f[g]._autoFormatString=a._zoom.axes[g].tickFormatString}}this.redraw()}else{var h=this.plugins.cursor.zoomCanvas._ctx;h.clearRect(0,0,h.canvas.width,h.canvas.height);h=null}this.plugins.cursor._zoom.isZoomed=false;this.target.trigger("jqplotResetZoom",[this,this.plugins.cursor])};if(a.showTooltipDataPosition){a.showTooltipUnitPosition=false;a.showTooltipGridPosition=false;if(e.cursor.tooltipFormatString==undefined){a.tooltipFormatString=w.jqplot.Cursor.cursorLegendFormatString}}}};w.jqplot.Cursor.postDraw=function(){var a=this.plugins.cursor;if(a.zoomCanvas){a.zoomCanvas.resetCanvas();a.zoomCanvas=null}if(a.cursorCanvas){a.cursorCanvas.resetCanvas();a.cursorCanvas=null}if(a._tooltipElem){a._tooltipElem.emptyForce();a._tooltipElem=null}if(a.zoom){a.zoomCanvas=new w.jqplot.GenericCanvas();this.eventCanvas._elem.before(a.zoomCanvas.createElement(this._gridPadding,"jqplot-zoom-canvas",this._plotDimensions,this));a.zoomCanvas.setContext()}var c=document.createElement("div");a._tooltipElem=w(c);c=null;a._tooltipElem.addClass("jqplot-cursor-tooltip");a._tooltipElem.css({position:"absolute",display:"none"});if(a.zoomCanvas){a.zoomCanvas._elem.before(a._tooltipElem)}else{this.eventCanvas._elem.before(a._tooltipElem)}if(a.showVerticalLine||a.showHorizontalLine){a.cursorCanvas=new w.jqplot.GenericCanvas();this.eventCanvas._elem.before(a.cursorCanvas.createElement(this._gridPadding,"jqplot-cursor-canvas",this._plotDimensions,this));a.cursorCanvas.setContext()}if(a.showTooltipUnitPosition){if(a.tooltipAxisGroups.length===0){var e=this.series;var d;var g=[];for(var f=0;f<e.length;f++){d=e[f];var b=d.xaxis+","+d.yaxis;if(w.inArray(b,g)==-1){g.push(b)}}for(var f=0;f<g.length;f++){a.tooltipAxisGroups.push(g[f].split(","))}}}};w.jqplot.Cursor.zoomProxy=function(a,e){var f=a.plugins.cursor;var b=e.plugins.cursor;f.zoomTarget=true;f.zoom=true;f.style="auto";f.dblClickReset=false;b.zoom=true;b.zoomProxy=true;e.target.bind("jqplotZoom",c);e.target.bind("jqplotResetZoom",d);function c(h,i,j,k,g){f.doZoom(i,j,a,g)}function d(h,g,i){a.resetZoom()}};w.jqplot.Cursor.prototype.resetZoom=function(b,a){var c=b.axes;var d=a._zoom.axes;if(!b.plugins.cursor.zoomProxy&&a._zoom.isZoomed){for(var e in c){c[e].reset();c[e]._ticks=[];c[e]._autoFormatString=d[e].tickFormatString}b.redraw();a._zoom.isZoomed=false}else{var f=a.zoomCanvas._ctx;f.clearRect(0,0,f.canvas.width,f.canvas.height);f=null}b.target.trigger("jqplotResetZoom",[b,a])};w.jqplot.Cursor.resetZoom=function(a){a.resetZoom()};w.jqplot.Cursor.prototype.doZoom=function(h,m,p,k){var d=k;var j=p.axes;var K=d._zoom.axes;var g=K.start;var n=K.end;var L,l,a,o,i,e,M,f,c;var N=p.plugins.cursor.zoomCanvas._ctx;if((d.constrainZoomTo=="none"&&Math.abs(h.x-d._zoom.start[0])>6&&Math.abs(h.y-d._zoom.start[1])>6)||(d.constrainZoomTo=="x"&&Math.abs(h.x-d._zoom.start[0])>6)||(d.constrainZoomTo=="y"&&Math.abs(h.y-d._zoom.start[1])>6)){if(!p.plugins.cursor.zoomProxy){for(var b in m){if(d._zoom.axes[b]==undefined){d._zoom.axes[b]={};d._zoom.axes[b].numberTicks=j[b].numberTicks;d._zoom.axes[b].tickInterval=j[b].tickInterval;d._zoom.axes[b].daTickInterval=j[b].daTickInterval;d._zoom.axes[b].min=j[b].min;d._zoom.axes[b].max=j[b].max;d._zoom.axes[b].tickFormatString=(j[b].tickOptions!=null)?j[b].tickOptions.formatString:""}if((d.constrainZoomTo=="none")||(d.constrainZoomTo=="x"&&b.charAt(0)=="x")||(d.constrainZoomTo=="y"&&b.charAt(0)=="y")){a=m[b];if(a!=null){if(a>g[b]){i=g[b];e=a}else{o=g[b]-a;i=a;e=g[b]}M=j[b];f=null;if(M.alignTicks){if(M.name==="x2axis"&&p.axes.xaxis.show){f=p.axes.xaxis.numberTicks}else{if(M.name.charAt(0)==="y"&&M.name!=="yaxis"&&M.name!=="yMidAxis"&&p.axes.yaxis.show){f=p.axes.yaxis.numberTicks}}}if(this.looseZoom&&(j[b].renderer.constructor===w.jqplot.LinearAxisRenderer||j[b].renderer.constructor===w.jqplot.LogAxisRenderer)){c=w.jqplot.LinearTickGenerator(i,e,M._scalefact,f);if(j[b].tickInset&&c[0]<j[b].min+j[b].tickInset*j[b].tickInterval){c[0]+=c[4];c[2]-=1}if(j[b].tickInset&&c[1]>j[b].max-j[b].tickInset*j[b].tickInterval){c[1]-=c[4];c[2]-=1}if(j[b].renderer.constructor===w.jqplot.LogAxisRenderer&&c[0]<j[b].min){c[0]+=c[4];c[2]-=1}j[b].min=c[0];j[b].max=c[1];j[b]._autoFormatString=c[3];j[b].numberTicks=c[2];j[b].tickInterval=c[4];j[b].daTickInterval=[c[4]/1000,"seconds"]}else{j[b].min=i;j[b].max=e;j[b].tickInterval=null;j[b].numberTicks=null;j[b].daTickInterval=null}j[b]._ticks=[]}}}N.clearRect(0,0,N.canvas.width,N.canvas.height);p.redraw();d._zoom.isZoomed=true;N=null}p.target.trigger("jqplotZoom",[h,m,p,k])}};w.jqplot.preInitHooks.push(w.jqplot.Cursor.init);w.jqplot.postDrawHooks.push(w.jqplot.Cursor.postDraw);function B(m,R,Q){var f=Q.plugins.cursor;var k="";var a=false;if(f.showTooltipGridPosition){k=m.x+", "+m.y;a=true}if(f.showTooltipUnitPosition){var n;for(var p=0;p<f.tooltipAxisGroups.length;p++){n=f.tooltipAxisGroups[p];if(a){k+="<br />"}if(f.useAxesFormatters){for(var P=0;P<n.length;P++){if(P){k+=", "}var j=Q.axes[n[P]]._ticks[0].formatter;var T=Q.axes[n[P]]._ticks[0].formatString;k+=j(T,R[n[P]])}}else{k+=w.jqplot.sprintf(f.tooltipFormatString,R[n[0]],R[n[1]])}a=true}}if(f.showTooltipDataPosition){var o=Q.series;var b=C(Q,m.x,m.y);var a=false;for(var p=0;p<o.length;p++){if(o[p].show){var g=o[p].index;var O=o[p].label.toString();var i=w.inArray(g,b.indices);var e=undefined;var h=undefined;if(i!=-1){var c=b.data[i].data;if(f.useAxesFormatters){var U=o[p]._xaxis._ticks[0].formatter;var S=o[p]._yaxis._ticks[0].formatter;var d=o[p]._xaxis._ticks[0].formatString;var l=o[p]._yaxis._ticks[0].formatString;e=U(d,c[0]);h=S(l,c[1])}else{e=c[0];h=c[1]}if(a){k+="<br />"}k+=w.jqplot.sprintf(f.tooltipFormatString,O,e,h);a=true}}}}f._tooltipElem.html(k)}function z(n,J){var j=J.plugins.cursor;var a=j.cursorCanvas._ctx;a.clearRect(0,0,a.canvas.width,a.canvas.height);if(j.showVerticalLine){j.shapeRenderer.draw(a,[[n.x,0],[n.x,a.canvas.height]])}if(j.showHorizontalLine){j.shapeRenderer.draw(a,[[0,n.y],[a.canvas.width,n.y]])}var f=C(J,n.x,n.y);if(j.showCursorLegend){var o=w(J.targetId+" td.jqplot-cursor-legend-label");for(var p=0;p<o.length;p++){var g=w(o[p]).data("seriesIndex");var k=J.series[g];var l=k.label.toString();var m=w.inArray(g,f.indices);var c=undefined;var e=undefined;if(m!=-1){var d=f.data[m].data;if(j.useAxesFormatters){var b=k._xaxis._ticks[0].formatter;var I=k._yaxis._ticks[0].formatter;var i=k._xaxis._ticks[0].formatString;var h=k._yaxis._ticks[0].formatString;c=b(i,d[0]);e=I(h,d[1])}else{c=d[0];e=d[1]}}if(J.legend.escapeHtml){w(o[p]).text(w.jqplot.sprintf(j.cursorLegendFormatString,l,c,e))}else{w(o[p]).html(w.jqplot.sprintf(j.cursorLegendFormatString,l,c,e))}}}a=null}function C(e,l,m){var d={indices:[],data:[]};var i,g,j,c,h,b,k;var f;var a=e.plugins.cursor;for(var g=0;g<e.series.length;g++){i=e.series[g];b=i.renderer;if(i.show){f=a.intersectionThreshold;if(i.showMarker){f+=i.markerRenderer.size/2}for(var h=0;h<i.gridData.length;h++){k=i.gridData[h];if(a.showVerticalLine){if(Math.abs(l-k[0])<=f){d.indices.push(g);d.data.push({seriesIndex:g,pointIndex:h,gridData:k,data:i.data[h]})}}}}}return d}function s(e,c){var a=c.plugins.cursor;var d=a._tooltipElem;switch(a.tooltipLocation){case"nw":var f=e.x+c._gridPadding.left-d.outerWidth(true)-a.tooltipOffset;var b=e.y+c._gridPadding.top-a.tooltipOffset-d.outerHeight(true);break;case"n":var f=e.x+c._gridPadding.left-d.outerWidth(true)/2;var b=e.y+c._gridPadding.top-a.tooltipOffset-d.outerHeight(true);break;case"ne":var f=e.x+c._gridPadding.left+a.tooltipOffset;var b=e.y+c._gridPadding.top-a.tooltipOffset-d.outerHeight(true);break;case"e":var f=e.x+c._gridPadding.left+a.tooltipOffset;var b=e.y+c._gridPadding.top-d.outerHeight(true)/2;break;case"se":var f=e.x+c._gridPadding.left+a.tooltipOffset;var b=e.y+c._gridPadding.top+a.tooltipOffset;break;case"s":var f=e.x+c._gridPadding.left-d.outerWidth(true)/2;var b=e.y+c._gridPadding.top+a.tooltipOffset;break;case"sw":var f=e.x+c._gridPadding.left-d.outerWidth(true)-a.tooltipOffset;var b=e.y+c._gridPadding.top+a.tooltipOffset;break;case"w":var f=e.x+c._gridPadding.left-d.outerWidth(true)-a.tooltipOffset;var b=e.y+c._gridPadding.top-d.outerHeight(true)/2;break;default:var f=e.x+c._gridPadding.left+a.tooltipOffset;var b=e.y+c._gridPadding.top+a.tooltipOffset;break}d.css("left",f);d.css("top",b);d=null}function t(b){var d=b._gridPadding;var a=b.plugins.cursor;var c=a._tooltipElem;switch(a.tooltipLocation){case"nw":var e=d.left+a.tooltipOffset;var f=d.top+a.tooltipOffset;c.css("left",e);c.css("top",f);break;case"n":var e=(d.left+(b._plotDimensions.width-d.right))/2-c.outerWidth(true)/2;var f=d.top+a.tooltipOffset;c.css("left",e);c.css("top",f);break;case"ne":var e=d.right+a.tooltipOffset;var f=d.top+a.tooltipOffset;c.css({right:e,top:f});break;case"e":var e=d.right+a.tooltipOffset;var f=(d.top+(b._plotDimensions.height-d.bottom))/2-c.outerHeight(true)/2;c.css({right:e,top:f});break;case"se":var e=d.right+a.tooltipOffset;var f=d.bottom+a.tooltipOffset;c.css({right:e,bottom:f});break;case"s":var e=(d.left+(b._plotDimensions.width-d.right))/2-c.outerWidth(true)/2;var f=d.bottom+a.tooltipOffset;c.css({left:e,bottom:f});break;case"sw":var e=d.left+a.tooltipOffset;var f=d.bottom+a.tooltipOffset;c.css({left:e,bottom:f});break;case"w":var e=d.left+a.tooltipOffset;var f=(d.top+(b._plotDimensions.height-d.bottom))/2-c.outerHeight(true)/2;c.css({left:e,top:f});break;default:var e=d.right-a.tooltipOffset;var f=d.bottom+a.tooltipOffset;c.css({right:e,bottom:f});break}c=null}function v(f,g,b,c,d){f.preventDefault();f.stopImmediatePropagation();var a=d.plugins.cursor;if(a.clickReset){a.resetZoom(d,a)}var e=window.getSelection;if(document.selection&&document.selection.empty){document.selection.empty()}else{if(e&&!e().isCollapsed){e().collapse()}}return false}function D(f,g,b,c,d){f.preventDefault();f.stopImmediatePropagation();var a=d.plugins.cursor;if(a.dblClickReset){a.resetZoom(d,a)}var e=window.getSelection;if(document.selection&&document.selection.empty){document.selection.empty()}else{if(e&&!e().isCollapsed){e().collapse()}}return false}function A(h,k,b,e,j){var i=j.plugins.cursor;i.onGrid=false;if(i.show){w(h.target).css("cursor",i.previousCursor);if(i.showTooltip&&!(i._zoom.zooming&&i.showTooltipOutsideZoom&&!i.constrainOutsideZoom)){i._tooltipElem.empty();i._tooltipElem.hide()}if(i.zoom){i._zoom.gridpos=k;i._zoom.datapos=b}if(i.showVerticalLine||i.showHorizontalLine){var c=i.cursorCanvas._ctx;c.clearRect(0,0,c.canvas.width,c.canvas.height);c=null}if(i.showCursorLegend){var d=w(j.targetId+" td.jqplot-cursor-legend-label");for(var l=0;l<d.length;l++){var f=w(d[l]).data("seriesIndex");var a=j.series[f];var g=a.label.toString();if(j.legend.escapeHtml){w(d[l]).text(w.jqplot.sprintf(i.cursorLegendFormatString,g,undefined,undefined))}else{w(d[l]).html(w.jqplot.sprintf(i.cursorLegendFormatString,g,undefined,undefined))}}}}}function E(e,f,b,c,d){var a=d.plugins.cursor;a.onGrid=true;if(a.show){a.previousCursor=e.target.style.cursor;e.target.style.cursor=a.style;if(a.showTooltip){B(f,b,d);if(a.followMouse){s(f,d)}else{t(d)}a._tooltipElem.show()}if(a.showVerticalLine||a.showHorizontalLine){z(f,d)}}}function x(e,f,b,c,d){var a=d.plugins.cursor;if(a.show){if(a.showTooltip){B(f,b,d);if(a.followMouse){s(f,d)}}if(a.showVerticalLine||a.showHorizontalLine){z(f,d)}}}function r(c){var d=c.data.plot;var h=d.eventCanvas._elem.offset();var e={x:c.pageX-h.left,y:c.pageY-h.top};var g={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null};var f=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];var b=d.axes;var a,i;for(a=11;a>0;a--){i=f[a-1];if(b[i].show){g[i]=b[i].series_p2u(e[i.charAt(0)])}}return{offsets:h,gridPos:e,dataPos:g}}function y(e){var g=e.data.plot;var f=g.plugins.cursor;if(f.show&&f.zoom&&f._zoom.started&&!f.zoomTarget){e.preventDefault();var c=f.zoomCanvas._ctx;var i=r(e);var h=i.gridPos;var k=i.dataPos;f._zoom.gridpos=h;f._zoom.datapos=k;f._zoom.zooming=true;var j=h.x;var l=h.y;var d=c.canvas.height;var b=c.canvas.width;if(f.showTooltip&&!f.onGrid&&f.showTooltipOutsideZoom){B(h,k,g);if(f.followMouse){s(h,g)}}if(f.constrainZoomTo=="x"){f._zoom.end=[j,d]}else{if(f.constrainZoomTo=="y"){f._zoom.end=[b,l]}else{f._zoom.end=[j,l]}}var a=window.getSelection;if(document.selection&&document.selection.empty){document.selection.empty()}else{if(a&&!a().isCollapsed){a().collapse()}}u.call(f);c=null}}function F(e,i,a,d,h){var f=h.plugins.cursor;if(h.plugins.mobile){w(document).one("vmouseup.jqplot_cursor",{plot:h},q)}else{w(document).one("mouseup.jqplot_cursor",{plot:h},q)}var g=h.axes;if(document.onselectstart!=undefined){f._oldHandlers.onselectstart=document.onselectstart;document.onselectstart=function(){return false}}if(document.ondrag!=undefined){f._oldHandlers.ondrag=document.ondrag;document.ondrag=function(){return false}}if(document.onmousedown!=undefined){f._oldHandlers.onmousedown=document.onmousedown;document.onmousedown=function(){return false}}if(f.zoom){if(!f.zoomProxy){var c=f.zoomCanvas._ctx;c.clearRect(0,0,c.canvas.width,c.canvas.height);c=null}if(f.constrainZoomTo=="x"){f._zoom.start=[i.x,0]}else{if(f.constrainZoomTo=="y"){f._zoom.start=[0,i.y]}else{f._zoom.start=[i.x,i.y]}}f._zoom.started=true;for(var b in a){f._zoom.axes.start[b]=a[b]}if(h.plugins.mobile){w(document).bind("vmousemove.jqplotCursor",{plot:h},y)}else{w(document).bind("mousemove.jqplotCursor",{plot:h},y)}}}function q(d){var g=d.data.plot;var e=g.plugins.cursor;if(e.zoom&&e._zoom.zooming&&!e.zoomTarget){var h=e._zoom.gridpos.x;var a=e._zoom.gridpos.y;var i=e._zoom.datapos;var c=e.zoomCanvas._ctx.canvas.height;var b=e.zoomCanvas._ctx.canvas.width;var f=g.axes;if(e.constrainOutsideZoom&&!e.onGrid){if(h<0){h=0}else{if(h>b){h=b}}if(a<0){a=0}else{if(a>c){a=c}}for(var j in i){if(i[j]){if(j.charAt(0)=="x"){i[j]=f[j].series_p2u(h)}else{i[j]=f[j].series_p2u(a)}}}}if(e.constrainZoomTo=="x"){a=c}else{if(e.constrainZoomTo=="y"){h=b}}e._zoom.end=[h,a];e._zoom.gridpos={x:h,y:a};e.doZoom(e._zoom.gridpos,i,g,e)}e._zoom.started=false;e._zoom.zooming=false;w(document).unbind("mousemove.jqplotCursor",y);if(document.onselectstart!=undefined&&e._oldHandlers.onselectstart!=null){document.onselectstart=e._oldHandlers.onselectstart;e._oldHandlers.onselectstart=null}if(document.ondrag!=undefined&&e._oldHandlers.ondrag!=null){document.ondrag=e._oldHandlers.ondrag;e._oldHandlers.ondrag=null}if(document.onmousedown!=undefined&&e._oldHandlers.onmousedown!=null){document.onmousedown=e._oldHandlers.onmousedown;e._oldHandlers.onmousedown=null}}function u(){var g=this._zoom.start;var c=this._zoom.end;var d=this.zoomCanvas._ctx;var e,b,a,f;if(c[0]>g[0]){e=g[0];f=c[0]-g[0]}else{e=c[0];f=g[0]-c[0]}if(c[1]>g[1]){b=g[1];a=c[1]-g[1]}else{b=c[1];a=g[1]-c[1]}d.fillStyle="rgba(0,0,0,0.2)";d.strokeStyle="#999999";d.lineWidth=1;d.clearRect(0,0,d.canvas.width,d.canvas.height);d.fillRect(0,0,d.canvas.width,d.canvas.height);d.clearRect(e,b,f,a);d.strokeRect(e,b,f,a);d=null}w.jqplot.CursorLegendRenderer=function(a){w.jqplot.TableLegendRenderer.call(this,a);this.formatString="%s"};w.jqplot.CursorLegendRenderer.prototype=new w.jqplot.TableLegendRenderer();w.jqplot.CursorLegendRenderer.prototype.constructor=w.jqplot.CursorLegendRenderer;w.jqplot.CursorLegendRenderer.prototype.draw=function(){if(this._elem){this._elem.emptyForce();this._elem=null}if(this.show){var g=this._series,c;var a=document.createElement("table");this._elem=w(a);a=null;this._elem.addClass("jqplot-legend jqplot-cursor-legend");this._elem.css("position","absolute");var b=false;for(var f=0;f<g.length;f++){c=g[f];if(c.show&&c.showLabel){var h=w.jqplot.sprintf(this.formatString,c.label.toString());if(h){var j=c.color;if(c._stack&&!c.fill){j=""}d.call(this,h,j,b,f);b=true}for(var i=0;i<w.jqplot.addLegendRowHooks.length;i++){var e=w.jqplot.addLegendRowHooks[i].call(this,c);if(e){d.call(this,e.label,e.color,b);b=true}}}}g=c=null;delete g;delete c}function d(o,p,m,l){var H=(m)?this.rowSpacing:"0";var n=w('<tr class="jqplot-legend jqplot-cursor-legend"></tr>').appendTo(this._elem);n.data("seriesIndex",l);w('<td class="jqplot-legend jqplot-cursor-legend-swatch" style="padding-top:'+H+';"><div style="border:1px solid #cccccc;padding:0.2em;"><div class="jqplot-cursor-legend-swatch" style="background-color:'+p+';"></div></div></td>').appendTo(n);var k=w('<td class="jqplot-legend jqplot-cursor-legend-label" style="vertical-align:middle;padding-top:'+H+';"></td>');k.appendTo(n);k.data("seriesIndex",l);if(this.escapeHtml){k.text(o)}else{k.html(o)}n=null;k=null}return this._elem}})(jQuery);