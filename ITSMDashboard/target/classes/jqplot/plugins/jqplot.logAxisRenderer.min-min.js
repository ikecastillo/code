(function(b){b.jqplot.LogAxisRenderer=function(){b.jqplot.LinearAxisRenderer.call(this);this.axisDefaults={base:10,tickDistribution:"power"}};b.jqplot.LogAxisRenderer.prototype=new b.jqplot.LinearAxisRenderer();b.jqplot.LogAxisRenderer.prototype.constructor=b.jqplot.LogAxisRenderer;b.jqplot.LogAxisRenderer.prototype.init=function(a){this.drawBaseline=true;this.minorTicks="auto";this._scalefact=1;b.extend(true,this,a);this._autoFormatString="%d";this._overrideFormatString=false;for(var d in this.renderer.axisDefaults){if(this[d]==null){this[d]=this.renderer.axisDefaults[d]}}this.resetDataBounds()};b.jqplot.LogAxisRenderer.prototype.createTicks=function(au){var T=this._ticks;var ad=this.ticks;var ag=this.name;var af=this._dataBounds;var aw=(this.name.charAt(0)==="x")?this._plotDimensions.width:this._plotDimensions.height;var ao;var i,ae;var am,an;var j,P;var aq=30;this._scalefact=(Math.max(aw,aq+1)-aq)/300;if(ad.length){for(P=0;P<ad.length;P++){var Z=ad[P];var S=new this.tickRenderer(this.tickOptions);if(Z.constructor==Array){S.value=Z[0];S.label=Z[1];if(!this.showTicks){S.showLabel=false;S.showMark=false}else{if(!this.showTickMarks){S.showMark=false}}S.setTick(Z[0],this.name);this._ticks.push(S)}else{if(b.isPlainObject(Z)){b.extend(true,S,Z);S.axis=this.name;this._ticks.push(S)}else{S.value=Z;if(!this.showTicks){S.showLabel=false;S.showMark=false}else{if(!this.showTickMarks){S.showMark=false}}S.setTick(Z,this.name);this._ticks.push(S)}}}this.numberTicks=ad.length;this.min=this._ticks[0].value;this.max=this._ticks[this.numberTicks-1].value}else{if(this.min==null&&this.max==null){i=af.min*(2-this.padMin);ae=af.max*this.padMax;if(i==ae){var av=0.05;i=i*(1-av);ae=ae*(1+av)}if(this.min!=null&&this.min<=0){throw new Error("Log axis minimum must be greater than 0")}if(this.max!=null&&this.max<=0){throw new Error("Log axis maximum must be greater than 0")}function ar(c){var d=Math.pow(10,Math.floor(Math.log(c)/Math.LN10));return Math.ceil(c/d)*d}function ac(c){var d=Math.pow(10,Math.floor(Math.log(c)/Math.LN10));return Math.floor(c/d)*d}var U,ah;U=Math.pow(this.base,Math.floor(Math.log(i)/Math.log(this.base)));ah=Math.pow(this.base,Math.ceil(Math.log(ae)/Math.log(this.base)));if(U===0){U=1}var V=Math.round(Math.log(U)/Math.LN10);if(this.tickOptions==null||!this.tickOptions.formatString){this._overrideFormatString=true}this.min=U;this.max=ah;var ai=this.max-this.min;var X=(this.minorTicks==="auto")?0:this.minorTicks;var ap;if(this.numberTicks==null){if(aw>140){ap=Math.round(Math.log(this.max/this.min)/Math.log(this.base)+1);if(ap<2){ap=2}if(X===0){var ak=aw/(ap-1);if(ak<100){X=0}else{if(ak<190){X=1}else{if(ak<250){X=3}else{if(ak<600){X=4}else{X=9}}}}}}else{ap=2;if(X===0){X=1}X=0}}else{ap=this.numberTicks}if(V>=0&&X!==3){this._autoFormatString="%d"}else{if(V<=0&&X===3){var ak=-(V-1);this._autoFormatString="%."+Math.abs(V-1)+"f"}else{if(V<0){var ak=-V;this._autoFormatString="%."+Math.abs(V)+"f"}else{this._autoFormatString="%d"}}}var a,S,aa,aj,al,ao;for(var P=0;P<ap;P++){j=Math.pow(this.base,P-ap+1)*this.max;S=new this.tickRenderer(this.tickOptions);if(this._overrideFormatString){S.formatString=this._autoFormatString}if(!this.showTicks){S.showLabel=false;S.showMark=false}else{if(!this.showTickMarks){S.showMark=false}}S.setTick(j,this.name);this._ticks.push(S);if(X&&P<ap-1){aj=Math.pow(this.base,P-ap+2)*this.max;al=aj-j;ao=aj/(X+1);for(var Q=X-1;Q>=0;Q--){aa=aj-ao*(Q+1);S=new this.tickRenderer(this.tickOptions);if(this._overrideFormatString&&this._autoFormatString!=""){S.formatString=this._autoFormatString}if(!this.showTicks){S.showLabel=false;S.showMark=false}else{if(!this.showTickMarks){S.showMark=false}}S.setTick(aa,this.name);this._ticks.push(S)}}}}else{if(this.min!=null&&this.max!=null){var ab=b.extend(true,{},this.tickOptions,{name:this.name,value:null});var R,at;if(this.numberTicks==null&&this.tickInterval==null){var W=Math.max(aw,aq+1);var t=Math.ceil((W-aq)/35+1);var Y=b.jqplot.LinearTickGenerator.bestConstrainedInterval(this.min,this.max,t);this._autoFormatString=Y[3];R=Y[2];at=Y[4];for(var P=0;P<R;P++){ab.value=this.min+P*at;S=new this.tickRenderer(ab);if(this._overrideFormatString&&this._autoFormatString!=""){S.formatString=this._autoFormatString}if(!this.showTicks){S.showLabel=false;S.showMark=false}else{if(!this.showTickMarks){S.showMark=false}}this._ticks.push(S)}}else{if(this.numberTicks!=null&&this.tickInterval!=null){R=this.numberTicks;for(var P=0;P<R;P++){ab.value=this.min+P*this.tickInterval;S=new this.tickRenderer(ab);if(this._overrideFormatString&&this._autoFormatString!=""){S.formatString=this._autoFormatString}if(!this.showTicks){S.showLabel=false;S.showMark=false}else{if(!this.showTickMarks){S.showMark=false}}this._ticks.push(S)}}}}}}};b.jqplot.LogAxisRenderer.prototype.pack=function(J,K){var A=parseInt(this.base,10);var h=this._ticks;var L=function(c){return Math.log(c)/Math.log(A)};var N=function(c){return Math.pow(Math.E,(Math.log(A)*c))};var t=L(this.max);var w=L(this.min);var E=K.max;var G=K.min;var C=(this._label==null)?false:this._label.show;for(var B in J){this._elem.css(B,J[B])}this._offsets=K;var I=E-G;var H=t-w;this.p2u=function(c){return N((c-G)*H/I+w)};this.u2p=function(c){return(L(c)-w)*I/H+G};if(this.name=="xaxis"||this.name=="x2axis"){this.series_u2p=function(c){return(L(c)-w)*I/H};this.series_p2u=function(c){return N(c*H/I+w)}}else{this.series_u2p=function(c){return(L(c)-t)*I/H};this.series_p2u=function(c){return N(c*H/I+t)}}if(this.show){if(this.name=="xaxis"||this.name=="x2axis"){for(var p=0;p<h.length;p++){var D=h[p];if(D.show&&D.showLabel){var M;if(D.constructor==b.jqplot.CanvasAxisTickRenderer&&D.angle){switch(D.labelPosition){case"auto":if(D.angle<0){M=-D.getWidth()+D._textRenderer.height*Math.sin(-D._textRenderer.angle)/2}else{M=-D._textRenderer.height*Math.sin(D._textRenderer.angle)/2}break;case"end":M=-D.getWidth()+D._textRenderer.height*Math.sin(-D._textRenderer.angle)/2;break;case"start":M=-D._textRenderer.height*Math.sin(D._textRenderer.angle)/2;break;case"middle":M=-D.getWidth()/2+D._textRenderer.height*Math.sin(-D._textRenderer.angle)/2;break;default:M=-D.getWidth()/2+D._textRenderer.height*Math.sin(-D._textRenderer.angle)/2;break}}else{M=-D.getWidth()/2}var a=this.u2p(D.value)+M+"px";D._elem.css("left",a);D.pack()}}if(C){var F=this._label._elem.outerWidth(true);this._label._elem.css("left",G+I/2-F/2+"px");if(this.name=="xaxis"){this._label._elem.css("bottom","0px")}else{this._label._elem.css("top","0px")}this._label.pack()}}else{for(var p=0;p<h.length;p++){var D=h[p];if(D.show&&D.showLabel){var M;if(D.constructor==b.jqplot.CanvasAxisTickRenderer&&D.angle){switch(D.labelPosition){case"auto":case"end":if(D.angle<0){M=-D._textRenderer.height*Math.cos(-D._textRenderer.angle)/2}else{M=-D.getHeight()+D._textRenderer.height*Math.cos(D._textRenderer.angle)/2}break;case"start":if(D.angle>0){M=-D._textRenderer.height*Math.cos(-D._textRenderer.angle)/2}else{M=-D.getHeight()+D._textRenderer.height*Math.cos(D._textRenderer.angle)/2}break;case"middle":M=-D.getHeight()/2;break;default:M=-D.getHeight()/2;break}}else{M=-D.getHeight()/2}var a=this.u2p(D.value)+M+"px";D._elem.css("top",a);D.pack()}}if(C){var i=this._label._elem.outerHeight(true);this._label._elem.css("top",E-I/2-i/2+"px");if(this.name=="yaxis"){this._label._elem.css("left","0px")}else{this._label._elem.css("right","0px")}this._label.pack()}}}}})(jQuery);