(function(b){b.jqplot.CanvasAxisTickRenderer=function(a){this.mark="outside";this.showMark=true;this.showGridline=true;this.isMinorTick=false;this.angle=0;this.markSize=4;this.show=true;this.showLabel=true;this.labelPosition="auto";this.label="";this.value=null;this._styles={};this.formatter=b.jqplot.DefaultTickFormatter;this.formatString="";this.prefix="";this.fontFamily='"Trebuchet MS", Arial, Helvetica, sans-serif';this.fontSize="10pt";this.fontWeight="normal";this.fontStretch=1;this.textColor="#666666";this.enableFontSupport=true;this.pt2px=null;this._elem;this._ctx;this._plotWidth;this._plotHeight;this._plotDimensions={height:null,width:null};b.extend(true,this,a);var d={fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily};if(this.pt2px){d.pt2px=this.pt2px}if(this.enableFontSupport){if(b.jqplot.support_canvas_text()){this._textRenderer=new b.jqplot.CanvasFontRenderer(d)}else{this._textRenderer=new b.jqplot.CanvasTextRenderer(d)}}else{this._textRenderer=new b.jqplot.CanvasTextRenderer(d)}};b.jqplot.CanvasAxisTickRenderer.prototype.init=function(a){b.extend(true,this,a);this._textRenderer.init({fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily})};b.jqplot.CanvasAxisTickRenderer.prototype.getWidth=function(i){if(this._elem){return this._elem.outerWidth(true)}else{var g=this._textRenderer;var j=g.getWidth(i);var h=g.getHeight(i);var a=Math.abs(Math.sin(g.angle)*h)+Math.abs(Math.cos(g.angle)*j);return a}};b.jqplot.CanvasAxisTickRenderer.prototype.getHeight=function(i){if(this._elem){return this._elem.outerHeight(true)}else{var g=this._textRenderer;var j=g.getWidth(i);var h=g.getHeight(i);var a=Math.abs(Math.cos(g.angle)*h)+Math.abs(Math.sin(g.angle)*j);return a}};b.jqplot.CanvasAxisTickRenderer.prototype.getTop=function(a){if(this._elem){return this._elem.position().top}else{return null}};b.jqplot.CanvasAxisTickRenderer.prototype.getAngleRad=function(){var a=this.angle*Math.PI/180;return a};b.jqplot.CanvasAxisTickRenderer.prototype.setTick=function(a,e,f){this.value=a;if(f){this.isMinorTick=true}return this};b.jqplot.CanvasAxisTickRenderer.prototype.draw=function(j,g){if(!this.label){this.label=this.prefix+this.formatter(this.formatString,this.value)}if(this._elem){if(b.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==undefined){window.G_vmlCanvasManager.uninitElement(this._elem.get(0))}this._elem.emptyForce();this._elem=null}var h=g.canvasManager.getCanvas();this._textRenderer.setText(this.label,j);var a=this.getWidth(j);var i=this.getHeight(j);h.width=a;h.height=i;h.style.width=a;h.style.height=i;h.style.textAlign="left";h.style.position="absolute";h=g.canvasManager.initCanvas(h);this._elem=b(h);this._elem.css(this._styles);this._elem.addClass("jqplot-"+this.axis+"-tick");h=null;return this._elem};b.jqplot.CanvasAxisTickRenderer.prototype.pack=function(){this._textRenderer.draw(this._elem.get(0).getContext("2d"),this.label)}})(jQuery);