(function(b){b.jqplot.BlockRenderer=function(){b.jqplot.LineRenderer.call(this)};b.jqplot.BlockRenderer.prototype=new b.jqplot.LineRenderer();b.jqplot.BlockRenderer.prototype.constructor=b.jqplot.BlockRenderer;b.jqplot.BlockRenderer.prototype.init=function(a){this.css={padding:"2px",border:"1px solid #999",textAlign:"center"};this.escapeHtml=false;this.insertBreaks=true;this.varyBlockColors=false;b.extend(true,this,a);if(this.css.backgroundColor){this.color=this.css.backgroundColor}else{if(this.css.background){this.color=this.css.background}else{if(!this.varyBlockColors){this.css.background=this.color}}}this.canvas=new b.jqplot.BlockCanvas();this.shadowCanvas=new b.jqplot.BlockCanvas();this.canvas._plotDimensions=this._plotDimensions;this.shadowCanvas._plotDimensions=this._plotDimensions;this._type="block";this.moveBlock=function(h,n,o,r){var t=this.canvas._elem.children(":eq("+h+")");this.data[h][0]=n;this.data[h][1]=o;this._plotData[h][0]=n;this._plotData[h][1]=o;this._stackData[h][0]=n;this._stackData[h][1]=o;this.gridData[h][0]=this._xaxis.series_u2p(n);this.gridData[h][1]=this._yaxis.series_u2p(o);var m=t.outerWidth();var q=t.outerHeight();var s=this.gridData[h][0]-m/2+"px";var p=this.gridData[h][1]-q/2+"px";if(r){if(parseInt(r,10)){r=parseInt(r,10)}t.animate({left:s,top:p},r)}else{t.css({left:s,top:p})}t=null}};b.jqplot.BlockRenderer.prototype.draw=function(d,i,a){if(this.plugins.pointLabels){this.plugins.pointLabels.show=false}var y,A,u,i,h,v,s,x,z,t;var B=(a!=undefined)?a:{};var w=new b.jqplot.ColorGenerator(this.seriesColors);this.canvas._elem.empty();for(y=0;y<this.gridData.length;y++){u=this.data[y];i=this.gridData[y];h="";v={};if(typeof u[2]=="string"){h=u[2]}else{if(typeof u[2]=="object"){v=u[2]}}if(typeof u[3]=="object"){v=u[3]}if(this.insertBreaks){h=h.replace(/ /g,"<br />")}v=b.extend(true,{},this.css,v);A=b('<div style="position:absolute;margin-left:auto;margin-right:auto;"></div>');this.canvas._elem.append(A);this.escapeHtml?A.text(h):A.html(h);delete v.position;delete v.marginRight;delete v.marginLeft;if(!v.background&&!v.backgroundColor&&!v.backgroundImage){v.background=w.next()}A.css(v);s=A.outerWidth();x=A.outerHeight();z=i[0]-s/2+"px";t=i[1]-x/2+"px";A.css({left:z,top:t});A=null}};b.jqplot.BlockCanvas=function(){b.jqplot.ElemContainer.call(this);this._ctx};b.jqplot.BlockCanvas.prototype=new b.jqplot.ElemContainer();b.jqplot.BlockCanvas.prototype.constructor=b.jqplot.BlockCanvas;b.jqplot.BlockCanvas.prototype.createElement=function(h,l,n){this._offsets=h;var a="jqplot-blockCanvas";if(l!=undefined){a=l}var j;if(this._elem){j=this._elem.get(0)}else{j=document.createElement("div")}if(n!=undefined){this._plotDimensions=n}var m=this._plotDimensions.width-this._offsets.left-this._offsets.right+"px";var k=this._plotDimensions.height-this._offsets.top-this._offsets.bottom+"px";this._elem=b(j);this._elem.css({position:"absolute",width:m,height:k,left:this._offsets.left,top:this._offsets.top});this._elem.addClass(a);return this._elem};b.jqplot.BlockCanvas.prototype.setContext=function(){this._ctx={canvas:{width:0,height:0},clearRect:function(){return null}};return this._ctx}})(jQuery);