(function(m){m.jqplot.eventListenerHooks.push(["jqplotMouseMove",k]);m.jqplot.Highlighter=function(a){this.show=m.jqplot.config.enablePlugins;this.markerRenderer=new m.jqplot.MarkerRenderer({shadow:false});this.showMarker=true;this.lineWidthAdjust=2.5;this.sizeAdjust=5;this.showTooltip=true;this.tooltipLocation="nw";this.fadeTooltip=true;this.tooltipFadeSpeed="fast";this.tooltipOffset=2;this.tooltipAxes="both";this.tooltipSeparator=", ";this.tooltipContentEditor=null;this.useAxesFormatters=true;this.tooltipFormatString="%.5P";this.formatString=null;this.yvalues=1;this.bringSeriesToFront=false;this._tooltipElem;this.isHighlighting=false;this.currentNeighbor=null;m.extend(true,this,a)};var h=["nw","n","ne","e","se","s","sw","w"];var l={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7};var n=["se","s","sw","w","nw","n","ne","e"];m.jqplot.Highlighter.init=function(a,b,c){var d=c||{};this.plugins.highlighter=new m.jqplot.Highlighter(d.highlighter)};m.jqplot.Highlighter.parseOptions=function(a,b){this.showHighlight=true};m.jqplot.Highlighter.postPlotDraw=function(){if(this.plugins.highlighter&&this.plugins.highlighter.highlightCanvas){this.plugins.highlighter.highlightCanvas.resetCanvas();this.plugins.highlighter.highlightCanvas=null}if(this.plugins.highlighter&&this.plugins.highlighter._tooltipElem){this.plugins.highlighter._tooltipElem.emptyForce();this.plugins.highlighter._tooltipElem=null}this.plugins.highlighter.highlightCanvas=new m.jqplot.GenericCanvas();this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions,this));this.plugins.highlighter.highlightCanvas.setContext();var a=document.createElement("div");this.plugins.highlighter._tooltipElem=m(a);a=null;this.plugins.highlighter._tooltipElem.addClass("jqplot-highlighter-tooltip");this.plugins.highlighter._tooltipElem.css({position:"absolute",display:"none"});this.eventCanvas._elem.before(this.plugins.highlighter._tooltipElem)};m.jqplot.preInitHooks.push(m.jqplot.Highlighter.init);m.jqplot.preParseSeriesOptionsHooks.push(m.jqplot.Highlighter.parseOptions);m.jqplot.postDrawHooks.push(m.jqplot.Highlighter.postPlotDraw);function i(d,b){var g=d.plugins.highlighter;var a=d.series[b.seriesIndex];var r=a.markerRenderer;var q=g.markerRenderer;q.style=r.style;q.lineWidth=r.lineWidth+g.lineWidthAdjust;q.size=r.size+g.sizeAdjust;var e=m.jqplot.getColorComponents(r.color);var c=[e[0],e[1],e[2]];var f=(e[3]>=0.6)?e[3]*0.6:e[3]*(2-e[3]);q.color="rgba("+c[0]+","+c[1]+","+c[2]+","+f+")";q.init();q.draw(a.gridData[b.pointIndex][0],a.gridData[b.pointIndex][1],g.highlightCanvas._ctx)}function j(J,H,M){var O=J.plugins.highlighter;var x=O._tooltipElem;var F=H.highlighter||{};var f=m.extend(true,{},O,F);if(f.useAxesFormatters){var b=H._xaxis._ticks[0].formatter;var Q=H._yaxis._ticks[0].formatter;var e=H._xaxis._ticks[0].formatString;var g=H._yaxis._ticks[0].formatString;var a;var d=b(e,M.data[0]);var N=[];for(var G=1;G<f.yvalues+1;G++){N.push(Q(g,M.data[G]))}if(typeof f.formatString==="string"){switch(f.tooltipAxes){case"both":case"xy":N.unshift(d);N.unshift(f.formatString);a=m.jqplot.sprintf.apply(m.jqplot.sprintf,N);break;case"yx":N.push(d);N.unshift(f.formatString);a=m.jqplot.sprintf.apply(m.jqplot.sprintf,N);break;case"x":a=m.jqplot.sprintf.apply(m.jqplot.sprintf,[f.formatString,d]);break;case"y":N.unshift(f.formatString);a=m.jqplot.sprintf.apply(m.jqplot.sprintf,N);break;default:N.unshift(d);N.unshift(f.formatString);a=m.jqplot.sprintf.apply(m.jqplot.sprintf,N);break}}else{switch(f.tooltipAxes){case"both":case"xy":a=d;for(var G=0;G<N.length;G++){a+=f.tooltipSeparator+N[G]}break;case"yx":a="";for(var G=0;G<N.length;G++){a+=N[G]+f.tooltipSeparator}a+=d;break;case"x":a=d;break;case"y":a=N.join(f.tooltipSeparator);break;default:a=d;for(var G=0;G<N.length;G++){a+=f.tooltipSeparator+N[G]}break}}}else{var a;if(typeof f.formatString==="string"){a=m.jqplot.sprintf.apply(m.jqplot.sprintf,[f.formatString].concat(M.data))}else{if(f.tooltipAxes=="both"||f.tooltipAxes=="xy"){a=m.jqplot.sprintf(f.tooltipFormatString,M.data[0])+f.tooltipSeparator+m.jqplot.sprintf(f.tooltipFormatString,M.data[1])}else{if(f.tooltipAxes=="yx"){a=m.jqplot.sprintf(f.tooltipFormatString,M.data[1])+f.tooltipSeparator+m.jqplot.sprintf(f.tooltipFormatString,M.data[0])}else{if(f.tooltipAxes=="x"){a=m.jqplot.sprintf(f.tooltipFormatString,M.data[0])}else{if(f.tooltipAxes=="y"){a=m.jqplot.sprintf(f.tooltipFormatString,M.data[1])}}}}}}if(m.isFunction(f.tooltipContentEditor)){a=f.tooltipContentEditor(a,M.seriesIndex,M.pointIndex,J)}x.html(a);var y={x:M.gridData[0],y:M.gridData[1]};var c=0;var P=0.707;if(H.markerRenderer.show==true){c=(H.markerRenderer.size+f.sizeAdjust)/2}var K=h;if(H.fillToZero&&H.fill&&M.data[1]<0){K=n}switch(K[l[f.tooltipLocation]]){case"nw":var I=y.x+J._gridPadding.left-x.outerWidth(true)-f.tooltipOffset-P*c;var L=y.y+J._gridPadding.top-f.tooltipOffset-x.outerHeight(true)-P*c;break;case"n":var I=y.x+J._gridPadding.left-x.outerWidth(true)/2;var L=y.y+J._gridPadding.top-f.tooltipOffset-x.outerHeight(true)-c;break;case"ne":var I=y.x+J._gridPadding.left+f.tooltipOffset+P*c;var L=y.y+J._gridPadding.top-f.tooltipOffset-x.outerHeight(true)-P*c;break;case"e":var I=y.x+J._gridPadding.left+f.tooltipOffset+c;var L=y.y+J._gridPadding.top-x.outerHeight(true)/2;break;case"se":var I=y.x+J._gridPadding.left+f.tooltipOffset+P*c;var L=y.y+J._gridPadding.top+f.tooltipOffset+P*c;break;case"s":var I=y.x+J._gridPadding.left-x.outerWidth(true)/2;var L=y.y+J._gridPadding.top+f.tooltipOffset+c;break;case"sw":var I=y.x+J._gridPadding.left-x.outerWidth(true)-f.tooltipOffset-P*c;var L=y.y+J._gridPadding.top+f.tooltipOffset+P*c;break;case"w":var I=y.x+J._gridPadding.left-x.outerWidth(true)-f.tooltipOffset-c;var L=y.y+J._gridPadding.top-x.outerHeight(true)/2;break;default:var I=y.x+J._gridPadding.left-x.outerWidth(true)-f.tooltipOffset-P*c;var L=y.y+J._gridPadding.top-f.tooltipOffset-x.outerHeight(true)-P*c;break}x.css("left",I);x.css("top",L);if(f.fadeTooltip){x.stop(true,true).fadeIn(f.tooltipFadeSpeed)}else{x.show()}x=null}function k(d,r,s,b,f){var t=f.plugins.highlighter;var e=f.plugins.cursor;if(t.show){if(b==null&&t.isHighlighting){var c=jQuery.Event("jqplotHighlighterUnhighlight");f.target.trigger(c);var a=t.highlightCanvas._ctx;a.clearRect(0,0,a.canvas.width,a.canvas.height);if(t.fadeTooltip){t._tooltipElem.fadeOut(t.tooltipFadeSpeed)}else{t._tooltipElem.hide()}if(t.bringSeriesToFront){f.restorePreviousSeriesOrder()}t.isHighlighting=false;t.currentNeighbor=null;a=null}else{if(b!=null&&f.series[b.seriesIndex].showHighlight&&!t.isHighlighting){var c=jQuery.Event("jqplotHighlighterHighlight");c.which=d.which;c.pageX=d.pageX;c.pageY=d.pageY;var g=[b.seriesIndex,b.pointIndex,b.data,f];f.target.trigger(c,g);t.isHighlighting=true;t.currentNeighbor=b;if(t.showMarker){i(f,b)}if(f.series[b.seriesIndex].show&&t.showTooltip&&(!e||!e._zoom.started)){j(f,f.series[b.seriesIndex],b)}if(t.bringSeriesToFront){f.moveSeriesToFront(b.seriesIndex)}}else{if(b!=null&&t.isHighlighting&&t.currentNeighbor!=b){if(f.series[b.seriesIndex].showHighlight){var a=t.highlightCanvas._ctx;a.clearRect(0,0,a.canvas.width,a.canvas.height);t.isHighlighting=true;t.currentNeighbor=b;if(t.showMarker){i(f,b)}if(f.series[b.seriesIndex].show&&t.showTooltip&&(!e||!e._zoom.started)){j(f,f.series[b.seriesIndex],b)}if(t.bringSeriesToFront){f.moveSeriesToFront(b.seriesIndex)}}}}}}}})(jQuery);